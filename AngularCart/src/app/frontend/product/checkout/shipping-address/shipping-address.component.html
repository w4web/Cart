<p-messages></p-messages>

<ng-container *ngIf="isEdit">

    <div class="edit-address">
        <form [formGroup]="form" (ngSubmit)="submit()">
            <formly-form 
                [model]="model" 
                [fields]="fields" 
                [options]="options" 
                [form]="form">
            </formly-form>
            <div class="mt-3">
                <button 
                    pButton 
                    type="submit" 
                    class="p-button-secondary mr-2" 
                    [disabled]="!form.valid"
                    label="Save">
                </button>
                <button 
                    pButton 
                    type="button" 
                    (click)="isEdit = false"
                    class="p-button-secondary"
                    label="Back">
                </button>
            </div>
        </form>
    </div>

</ng-container>

<ng-container *ngIf="!isEdit">

    <div class="edit-icon">
        <button 
            pButton 
            type="button" 
            icon="pi pi-pencil" 
            (click)="isEdit = true"
            class="p-button-raised p-button-primery p-button-text">
        </button>
    </div>
    <div *ngIf="!address" class="address-text mt-3">
        <h2>Address not available. Please add one!</h2>
    </div>
    <div *ngIf="address" class="address-text">
        <h3>{{address.customerName}}</h3>
        <p>{{address.street}} {{address.city}}-{{address.zip}}.</p>
        <p>Mobile no :- <span>{{address.phone}}</span></p>
        <div class="text-left">
            <button 
                pButton 
                type="button" 
                icon="pi pi-angle-right" 
                iconPos="right"
                label="Deliver here" 
                (click)="checkoutService.accChange(2)"
                class="p-button-raised p-button-secondary p-button-text">
            </button>
        </div>
    </div>

</ng-container>